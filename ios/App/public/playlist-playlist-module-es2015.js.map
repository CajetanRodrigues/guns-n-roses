{"version":3,"sources":["./src/app/playlist/playlist.page.html","./src/app/playlist/playlist-routing.module.ts","./src/app/playlist/playlist.module.ts","./src/app/playlist/playlist.page.scss","./src/app/playlist/playlist.page.ts"],"names":[],"mappings":"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","file":"playlist-playlist-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-icon (click)=\\\"navigatePrev()\\\"  slot=\\\"start\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\n    <ion-title>Playlist</ion-title>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<div class=\\\"playlist-cover-container\\\">\\n<img class=\\\"playlist-cover\\\" src=\\\"{{playlistCover}}\\\">\\n</div>\\n  <ion-grid>\\n    <ion-row (click)=\\\"playSong(track)\\\" *ngFor=\\\"let track of tracks\\\">\\n        <ion-col size=\\\"2\\\">\\n          <img class=\\\"track-cover\\\" src=\\\"{{track.track.album.images[0].url}}\\\">\\n        </ion-col>\\n        <ion-col size=\\\"10\\\">\\n          <div class=\\\"song-big\\\" style=\\\"color:#92949c\\\">{{track.track.album.name}}</div>\\n          <div class=\\\"album\\\" style=\\\"color:#ffc409\\\">{{track.track.artists[0].name}}</div>.\\n          <div class=\\\"song\\\" style=\\\"color:#92949c\\\">{{track.track.album.name}}</div>\\n        </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n</ion-content>\\n  \\n  <div class=\\\"footer\\\">\\n<ion-footer mode=\\\"ios\\\">\\n  <ion-toolbar id=\\\"container\\\">\\n    <ion-grid>\\n    <ion-row>\\n        <ion-col size=\\\"2\\\">\\n          <img class=\\\"track-cover\\\" src=\\\"https://i.scdn.co/image/608c7b23420c9556a7eabd9097f7e171a91d3871\\\">\\n        </ion-col>\\n        <ion-col size=\\\"8\\\">\\n          <div class=\\\"song-playing\\\" style=\\\"color:#92949c\\\">{{currentSongName}}</div>\\n          <div class=\\\"album-playing\\\" style=\\\"color:#ffc409\\\">{{currentSongAlbum}}</div>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-icon *ngIf=\\\"!songPlaying\\\" name=\\\"play\\\" (click)=\\\"togglePlayPause()\\\"></ion-icon>\\n          <ion-icon *ngIf=\\\"songPlaying\\\" name=\\\"pause\\\" (click)=\\\"togglePlayPause()\\\"></ion-icon>\\n        </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  </ion-toolbar>\\n</ion-footer>\\n</div>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaylistPage } from './playlist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaylistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaylistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaylistPageRoutingModule } from './playlist-routing.module';\n\nimport { PlaylistPage } from './playlist.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaylistPageRoutingModule\n  ],\n  declarations: [PlaylistPage]\n})\nexport class PlaylistPageModule {}\n","export default \".playlist-cover {\\n  display: block;\\n  margin: auto;\\n  width: 200px;\\n  height: 200px;\\n}\\n\\n.playlist-cover-container {\\n  margin: 20px 20px 5px 20px;\\n}\\n\\n.track-cover {\\n  width: 100%;\\n  margin: 0;\\n}\\n\\n.album {\\n  font-size: 15px;\\n  display: inline-block;\\n}\\n\\n.song {\\n  font-size: 13px;\\n  display: inline-block;\\n}\\n\\n.song-playing {\\n  font-size: 17px;\\n  display: block;\\n  font-weight: bold;\\n}\\n\\n.album-playing {\\n  font-size: 14px;\\n  display: inline-block;\\n  font-weight: bold;\\n}\\n\\n.song-big {\\n  font-size: 16px;\\n  display: block;\\n}\\n\\nion-icon {\\n  zoom: 2;\\n  margin-left: 10px;\\n}\\n\\n.footer {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  bottom: 0px;\\n}\\n\\n#container {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxheWxpc3QvQzpcXFVzZXJzXFxtYXZlclxcRGVza3RvcFxcZ3Vucy1uLXJvc2VzL3NyY1xcYXBwXFxwbGF5bGlzdFxccGxheWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wbGF5bGlzdC9wbGF5bGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FDQ0o7O0FEQ0E7RUFDSSwwQkFBQTtBQ0VKOztBREFBO0VBQ0ksV0FBQTtFQUNBLFNBQUE7QUNHSjs7QUREQTtFQUNJLGVBQUE7RUFDQSxxQkFBQTtBQ0lKOztBREZBO0VBQ0ksZUFBQTtFQUNBLHFCQUFBO0FDS0o7O0FESEE7RUFDSSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDTUo7O0FESkE7RUFDSSxlQUFBO0VBQ0EscUJBQUE7RUFDQSxpQkFBQTtBQ09KOztBRExBO0VBQ0ksZUFBQTtFQUNBLGNBQUE7QUNRSjs7QUROQTtFQUNJLE9BQUE7RUFDQSxpQkFBQTtBQ1NKOztBRFBBO0VBQ0ksd0JBQUE7RUFBQSxnQkFBQTtFQUNBLFdBQUE7QUNVSjs7QURSRTtFQUNFLFdBQUE7QUNXSiIsImZpbGUiOiJzcmMvYXBwL3BsYXlsaXN0L3BsYXlsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wbGF5bGlzdC1jb3ZlciB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbn1cclxuLnBsYXlsaXN0LWNvdmVyLWNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW46IDIwcHggMjBweCA1cHggMjBweDtcclxufVxyXG4udHJhY2stY292ZXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuLmFsYnVtIHtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG4uc29uZyB7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuLnNvbmctcGxheWluZyB7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi5hbGJ1bS1wbGF5aW5nIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi5zb25nLWJpZyB7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5pb24taWNvbiB7XHJcbiAgICB6b29tOiAyLjA7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG4uZm9vdGVye1xyXG4gICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gIH1cclxuICAjY29udGFpbmVyIHtcclxuICAgIHdpZHRoOjEwMCU7XHJcbn1cclxuXHJcbiIsIi5wbGF5bGlzdC1jb3ZlciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbn1cblxuLnBsYXlsaXN0LWNvdmVyLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMjBweCAyMHB4IDVweCAyMHB4O1xufVxuXG4udHJhY2stY292ZXIge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAwO1xufVxuXG4uYWxidW0ge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnNvbmcge1xuICBmb250LXNpemU6IDEzcHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnNvbmctcGxheWluZyB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWxidW0tcGxheWluZyB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnNvbmctYmlnIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuaW9uLWljb24ge1xuICB6b29tOiAyO1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cblxuLmZvb3RlciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIGJvdHRvbTogMHB4O1xufVxuXG4jY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG59Il19 */\";","import { PlaylistsService } from './../providers/playlists.service';\nimport { AuthService } from './../providers/auth.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { NavController, ToastController } from '@ionic/angular';\nimport { AppService } from '../app.service';\nimport { PlayerService } from '../providers/player.service';\nimport { Media, MediaObject } from '@ionic-native/media/ngx';\n\n@Component({\n  selector: 'app-playlist',\n  templateUrl: './playlist.page.html',\n  styleUrls: ['./playlist.page.scss'],\n})\nexport class PlaylistPage implements OnInit {\n  songPlaying = true;\n  playlistCover = '';\n  tracks = [];\n  playlistId: any;\n  currentSongName = '';\n  currentSongAlbum = '';\n  currentPlayingtrack: any;\n  currentTrack: MediaObject;\n  playing: boolean;\n  constructor(private authService: AuthService, private playlistService: PlaylistsService, private navController: NavController,\n              private route: ActivatedRoute, private appService: AppService, private playerService: PlayerService,private media: Media\n              ) {\n                \n                this.route.params.subscribe((params: Params) => {\n                  this.playlistId = params['id'];\n                  this.authService.fetchToken()\n                  .subscribe((tokenData) => {\n\n                    this.playlistService.fetchPlaylist(tokenData.access_token, params['id'])\n                    .subscribe((data: any) => {\n                      console.log(data);\n                      this.tracks = data.items;\n                    });\n              \n                    this.playlistService.fetchPlaylistCover(tokenData.access_token, params['id'])\n                    .subscribe((data: any) => {\n                      console.log(data);\n                      this.playlistCover  = data[0].url;\n                    });\n                  });\n                })\n   \n   }\n\n  ngOnInit() {\n  }\n  navigatePrev() {\n    this.navController.back();\n  }\n  togglePlayPause(status) {\n    this.authService.fetchToken().subscribe((tokenData) => {\n      if(this.songPlaying) {\n        this.songPlaying = false;\n        this.playerService.pauseUserPlayback(tokenData.access_token).subscribe();\n      } else {\n        this.songPlaying = true;\n        this.playSong(this.currentPlayingtrack);\n      }\n    });\n  }\n\n  playSong(track) {\n    console.log(track.track.preview_url);\n    this.currentTrack = this.media.create(track.track.preview_url);\n    this.currentTrack.onSuccess.subscribe(() => {\n      this.playing = false;\n      this.currentTrack.play();\n    });\n    this.currentTrack.onError.subscribe(error => {\n      this.playing = false;\n    });\n    this.currentTrack.play();\n    this.currentSongName  = track.track.artists[0].name;\n    this.currentSongAlbum = track.track.album.name;\n    this.currentPlayingtrack = track;\n    this.authService.fetchToken()\n    .subscribe((tokenData) => {\n      \n      this.playerService.startResumeUserPlayback(tokenData.access_token, track.track.uri)\n      .subscribe((data) => {\n        console.log(data);\n      });\n    });\n  }\n  pauseSong() {\n    this.authService.fetchToken()\n    .subscribe((tokenData) => {\n      this.playerService.pauseUserPlayback(tokenData.access_token)\n      .subscribe((data) => {\n        console.log(data);\n      });\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///"}
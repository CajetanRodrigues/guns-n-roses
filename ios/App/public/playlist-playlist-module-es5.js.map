{"version":3,"sources":["webpack:///src/app/playlist/playlist.page.html","webpack:///src/app/playlist/playlist-routing.module.ts","webpack:///src/app/playlist/playlist.module.ts","webpack:///src/app/playlist/playlist.page.scss","webpack:///src/app/playlist/playlist.page.ts"],"names":["routes","path","component","PlaylistPageRoutingModule","imports","forChild","exports","PlaylistPageModule","declarations","PlaylistPage","authService","playlistService","navController","route","appService","playerService","media","songPlaying","playlistCover","tracks","currentSongName","currentSongAlbum","params","subscribe","playlistId","fetchToken","tokenData","fetchPlaylist","access_token","data","console","log","items","fetchPlaylistCover","url","back","status","pauseUserPlayback","playSong","currentPlayingtrack","track","preview_url","currentTrack","create","onSuccess","playing","play","onError","error","artists","name","album","startResumeUserPlayback","uri","selector","template"],"mappings":"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","file":"playlist-playlist-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-icon (click)=\\\"navigatePrev()\\\"  slot=\\\"start\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\n    <ion-title>Playlist</ion-title>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<div class=\\\"playlist-cover-container\\\">\\n<img class=\\\"playlist-cover\\\" src=\\\"{{playlistCover}}\\\">\\n</div>\\n  <ion-grid>\\n    <ion-row (click)=\\\"playSong(track)\\\" *ngFor=\\\"let track of tracks\\\">\\n        <ion-col size=\\\"2\\\">\\n          <img class=\\\"track-cover\\\" src=\\\"{{track.track.album.images[0].url}}\\\">\\n        </ion-col>\\n        <ion-col size=\\\"10\\\">\\n          <div class=\\\"song-big\\\" style=\\\"color:#92949c\\\">{{track.track.album.name}}</div>\\n          <div class=\\\"album\\\" style=\\\"color:#ffc409\\\">{{track.track.artists[0].name}}</div>.\\n          <div class=\\\"song\\\" style=\\\"color:#92949c\\\">{{track.track.album.name}}</div>\\n        </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n</ion-content>\\n  \\n  <div class=\\\"footer\\\">\\n<ion-footer mode=\\\"ios\\\">\\n  <ion-toolbar id=\\\"container\\\">\\n    <ion-grid>\\n    <ion-row>\\n        <ion-col size=\\\"2\\\">\\n          <img class=\\\"track-cover\\\" src=\\\"https://i.scdn.co/image/608c7b23420c9556a7eabd9097f7e171a91d3871\\\">\\n        </ion-col>\\n        <ion-col size=\\\"8\\\">\\n          <div class=\\\"song-playing\\\" style=\\\"color:#92949c\\\">{{currentSongName}}</div>\\n          <div class=\\\"album-playing\\\" style=\\\"color:#ffc409\\\">{{currentSongAlbum}}</div>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-icon *ngIf=\\\"!songPlaying\\\" name=\\\"play\\\" (click)=\\\"togglePlayPause()\\\"></ion-icon>\\n          <ion-icon *ngIf=\\\"songPlaying\\\" name=\\\"pause\\\" (click)=\\\"togglePlayPause()\\\"></ion-icon>\\n        </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  </ion-toolbar>\\n</ion-footer>\\n</div>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaylistPage } from './playlist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaylistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaylistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaylistPageRoutingModule } from './playlist-routing.module';\n\nimport { PlaylistPage } from './playlist.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaylistPageRoutingModule\n  ],\n  declarations: [PlaylistPage]\n})\nexport class PlaylistPageModule {}\n","export default \".playlist-cover {\\n  display: block;\\n  margin: auto;\\n  width: 200px;\\n  height: 200px;\\n}\\n\\n.playlist-cover-container {\\n  margin: 20px 20px 5px 20px;\\n}\\n\\n.track-cover {\\n  width: 100%;\\n  margin: 0;\\n}\\n\\n.album {\\n  font-size: 15px;\\n  display: inline-block;\\n}\\n\\n.song {\\n  font-size: 13px;\\n  display: inline-block;\\n}\\n\\n.song-playing {\\n  font-size: 17px;\\n  display: block;\\n  font-weight: bold;\\n}\\n\\n.album-playing {\\n  font-size: 14px;\\n  display: inline-block;\\n  font-weight: bold;\\n}\\n\\n.song-big {\\n  font-size: 16px;\\n  display: block;\\n}\\n\\nion-icon {\\n  zoom: 2;\\n  margin-left: 10px;\\n}\\n\\n.footer {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  bottom: 0px;\\n}\\n\\n#container {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxheWxpc3QvQzpcXFVzZXJzXFxtYXZlclxcRGVza3RvcFxcZ3Vucy1uLXJvc2VzL3NyY1xcYXBwXFxwbGF5bGlzdFxccGxheWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wbGF5bGlzdC9wbGF5bGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FDQ0o7O0FEQ0E7RUFDSSwwQkFBQTtBQ0VKOztBREFBO0VBQ0ksV0FBQTtFQUNBLFNBQUE7QUNHSjs7QUREQTtFQUNJLGVBQUE7RUFDQSxxQkFBQTtBQ0lKOztBREZBO0VBQ0ksZUFBQTtFQUNBLHFCQUFBO0FDS0o7O0FESEE7RUFDSSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDTUo7O0FESkE7RUFDSSxlQUFBO0VBQ0EscUJBQUE7RUFDQSxpQkFBQTtBQ09KOztBRExBO0VBQ0ksZUFBQTtFQUNBLGNBQUE7QUNRSjs7QUROQTtFQUNJLE9BQUE7RUFDQSxpQkFBQTtBQ1NKOztBRFBBO0VBQ0ksd0JBQUE7RUFBQSxnQkFBQTtFQUNBLFdBQUE7QUNVSjs7QURSRTtFQUNFLFdBQUE7QUNXSiIsImZpbGUiOiJzcmMvYXBwL3BsYXlsaXN0L3BsYXlsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wbGF5bGlzdC1jb3ZlciB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbn1cclxuLnBsYXlsaXN0LWNvdmVyLWNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW46IDIwcHggMjBweCA1cHggMjBweDtcclxufVxyXG4udHJhY2stY292ZXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuLmFsYnVtIHtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG4uc29uZyB7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuLnNvbmctcGxheWluZyB7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi5hbGJ1bS1wbGF5aW5nIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi5zb25nLWJpZyB7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5pb24taWNvbiB7XHJcbiAgICB6b29tOiAyLjA7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG4uZm9vdGVye1xyXG4gICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gIH1cclxuICAjY29udGFpbmVyIHtcclxuICAgIHdpZHRoOjEwMCU7XHJcbn1cclxuXHJcbiIsIi5wbGF5bGlzdC1jb3ZlciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbn1cblxuLnBsYXlsaXN0LWNvdmVyLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMjBweCAyMHB4IDVweCAyMHB4O1xufVxuXG4udHJhY2stY292ZXIge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAwO1xufVxuXG4uYWxidW0ge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnNvbmcge1xuICBmb250LXNpemU6IDEzcHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnNvbmctcGxheWluZyB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWxidW0tcGxheWluZyB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnNvbmctYmlnIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuaW9uLWljb24ge1xuICB6b29tOiAyO1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cblxuLmZvb3RlciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIGJvdHRvbTogMHB4O1xufVxuXG4jY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG59Il19 */\";","import { PlaylistsService } from './../providers/playlists.service';\nimport { AuthService } from './../providers/auth.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { NavController, ToastController } from '@ionic/angular';\nimport { AppService } from '../app.service';\nimport { PlayerService } from '../providers/player.service';\nimport { Media, MediaObject } from '@ionic-native/media/ngx';\n\n@Component({\n  selector: 'app-playlist',\n  templateUrl: './playlist.page.html',\n  styleUrls: ['./playlist.page.scss'],\n})\nexport class PlaylistPage implements OnInit {\n  songPlaying = true;\n  playlistCover = '';\n  tracks = [];\n  playlistId: any;\n  currentSongName = '';\n  currentSongAlbum = '';\n  currentPlayingtrack: any;\n  currentTrack: MediaObject;\n  playing: boolean;\n  constructor(private authService: AuthService, private playlistService: PlaylistsService, private navController: NavController,\n              private route: ActivatedRoute, private appService: AppService, private playerService: PlayerService,private media: Media\n              ) {\n                \n                this.route.params.subscribe((params: Params) => {\n                  this.playlistId = params['id'];\n                  this.authService.fetchToken()\n                  .subscribe((tokenData) => {\n\n                    this.playlistService.fetchPlaylist(tokenData.access_token, params['id'])\n                    .subscribe((data: any) => {\n                      console.log(data);\n                      this.tracks = data.items;\n                    });\n              \n                    this.playlistService.fetchPlaylistCover(tokenData.access_token, params['id'])\n                    .subscribe((data: any) => {\n                      console.log(data);\n                      this.playlistCover  = data[0].url;\n                    });\n                  });\n                })\n   \n   }\n\n  ngOnInit() {\n  }\n  navigatePrev() {\n    this.navController.back();\n  }\n  togglePlayPause(status) {\n    this.authService.fetchToken().subscribe((tokenData) => {\n      if(this.songPlaying) {\n        this.songPlaying = false;\n        this.playerService.pauseUserPlayback(tokenData.access_token).subscribe();\n      } else {\n        this.songPlaying = true;\n        this.playSong(this.currentPlayingtrack);\n      }\n    });\n  }\n\n  playSong(track) {\n    console.log(track.track.preview_url);\n    this.currentTrack = this.media.create(track.track.preview_url);\n    this.currentTrack.onSuccess.subscribe(() => {\n      this.playing = false;\n      this.currentTrack.play();\n    });\n    this.currentTrack.onError.subscribe(error => {\n      this.playing = false;\n    });\n    this.currentTrack.play();\n    this.currentSongName  = track.track.artists[0].name;\n    this.currentSongAlbum = track.track.album.name;\n    this.currentPlayingtrack = track;\n    this.authService.fetchToken()\n    .subscribe((tokenData) => {\n      \n      this.playerService.startResumeUserPlayback(tokenData.access_token, track.track.uri)\n      .subscribe((data) => {\n        console.log(data);\n      });\n    });\n  }\n  pauseSong() {\n    this.authService.fetchToken()\n    .subscribe((tokenData) => {\n      this.playerService.pauseUserPlayback(tokenData.access_token)\n      .subscribe((data) => {\n        console.log(data);\n      });\n    });\n  }\n\n}\n"]}